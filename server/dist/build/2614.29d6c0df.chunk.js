(self.webpackChunkserver=self.webpackChunkserver||[]).push([[2614],{32614:(v,g,c)=>{"use strict";c.r(g),c.d(g,{AuthResponse:()=>o,default:()=>E});var i=c(96540),d=c(78320),_=c(12215),p=c.n(_),C=c(6442),n=c(56347);const o=()=>{const{params:{authResponse:l}}=(0,n.W5)("/auth/login/:authResponse"),{formatMessage:t}=(0,C.A)(),{push:r}=(0,n.W6)(),e=(0,i.useRef)(t);let f=(0,i.useCallback)(()=>{r(`/auth/oops?info=${encodeURIComponent(e.current({id:"Auth.form.button.login.providers.error",defaultMessage:"We cannot connect you through the selected provider."}))}`)},[r]);const{get:u}=(0,d.ry)(),a=(0,i.useCallback)(async()=>{try{const s=p().get("jwtToken");if(d.j2.clearAppStorage(),s){d.j2.setToken(s,!0);const h="/admin/users/me",{data:{data:A}}=await u(h);d.j2.setUserInfo(A,!0),p().remove("jwtToken"),r("/auth/login")}}catch{f()}},[u,r,f]);return(0,i.useEffect)(()=>{l==="error"&&f(),l==="success"&&a()},[l,a,f]),i.createElement(d.Bl,null)},E=o},12215:(v,g,c)=>{var i,d;/*!
* JavaScript Cookie v2.2.1
* https://github.com/js-cookie/js-cookie
*
* Copyright 2006, 2015 Klaus Hartl & Fagner Brack
* Released under the MIT license
*/(function(_){var p;if(i=_,d=typeof i=="function"?i.call(g,c,g,v):i,d!==void 0&&(v.exports=d),p=!0,v.exports=_(),p=!0,!p){var C=window.Cookies,n=window.Cookies=_();n.noConflict=function(){return window.Cookies=C,n}}})(function(){function _(){for(var n=0,o={};n<arguments.length;n++){var E=arguments[n];for(var l in E)o[l]=E[l]}return o}function p(n){return n.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function C(n){function o(){}function E(t,r,e){if(!(typeof document>"u")){e=_({path:"/"},o.defaults,e),typeof e.expires=="number"&&(e.expires=new Date(new Date*1+e.expires*864e5)),e.expires=e.expires?e.expires.toUTCString():"";try{var f=JSON.stringify(r);/^[\{\[]/.test(f)&&(r=f)}catch{}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var a in e)e[a]&&(u+="; "+a,e[a]!==!0&&(u+="="+e[a].split(";")[0]));return document.cookie=t+"="+r+u}}function l(t,r){if(!(typeof document>"u")){for(var e={},f=document.cookie?document.cookie.split("; "):[],u=0;u<f.length;u++){var a=f[u].split("="),s=a.slice(1).join("=");!r&&s.charAt(0)==='"'&&(s=s.slice(1,-1));try{var h=p(a[0]);if(s=(n.read||n)(s,h)||p(s),r)try{s=JSON.parse(s)}catch{}if(e[h]=s,t===h)break}catch{}}return t?e[t]:e}}return o.set=E,o.get=function(t){return l(t,!1)},o.getJSON=function(t){return l(t,!0)},o.remove=function(t,r){E(t,"",_(r,{expires:-1}))},o.defaults={},o.withConverter=C,o}return C(function(){})})}}]);
