"use strict";(self.webpackChunkserver=self.webpackChunkserver||[]).push([[4981],{44823:(W,M,e)=>{e.r(M),e.d(M,{SettingsPage:()=>ve});var t=e(96540),d=e(63214),r=e(78320),L=e(68154),u=e(6442),y=e(56347),c=e(33878),C=e(74090),j=e(21428),P=e(41175),U=e(77507),R=e(96491),l=e(30950),E=e(10855),g=e(5556),n=e.n(g),p=e(54625);const x=({menu:a})=>{const{formatMessage:o}=(0,u.A)(),{trackUsage:i}=(0,r.z1)(),{pathname:s}=(0,y.zy)(),S=a.filter(m=>!m.links.every(h=>h.isDisplayed===!1)).map(m=>({...m,title:m.intlLabel,links:m.links.map(h=>({...h,title:h.intlLabel,name:h.id}))})),A=o({id:"global.settings",defaultMessage:"Settings"}),v=(m=null)=>{i("willNavigate",{from:s,to:m})};return t.createElement(P.C,{ariaLabel:A},t.createElement(U.X,{label:A}),t.createElement(R.w,null,S.map(m=>t.createElement(l.L,{key:m.id,label:o(m.intlLabel)},m.links.map(h=>t.createElement(E.u,{as:p.k2,withBullet:h.hasNotification,to:h.to,onClick:()=>v(h.to),key:h.id},o(h.intlLabel)))))))};x.propTypes={menu:n().array.isRequired};const D=x,b=[{component:t.lazy(()=>e.e(1177).then(e.bind(e,36156))),path:"/settings/roles"},{component:t.lazy(()=>Promise.all([e.e(1123),e.e(6823)]).then(e.bind(e,12370))),path:"/settings/roles/duplicate/:id"},{component:t.lazy(()=>Promise.all([e.e(1123),e.e(6823)]).then(e.bind(e,12370))),path:"/settings/roles/new"},{component:t.lazy(()=>Promise.all([e.e(1123),e.e(6823)]).then(e.bind(e,49659))),path:"/settings/roles/:id"},{component:t.lazy(()=>e.e(4563).then(e.bind(e,50125))),path:"/settings/users"},{component:t.lazy(()=>e.e(9298).then(e.bind(e,86209))),path:"/settings/users/:id"},{component:t.lazy(()=>e.e(3881).then(e.bind(e,31479))),path:"/settings/webhooks/create"},{component:t.lazy(()=>e.e(3881).then(e.bind(e,83807))),path:"/settings/webhooks/:id"},{component:t.lazy(()=>e.e(4001).then(e.bind(e,60994))),path:"/settings/webhooks"},{component:t.lazy(()=>e.e(1007).then(e.bind(e,48977))),path:"/settings/api-tokens"},{component:t.lazy(()=>Promise.all([e.e(1123),e.e(4744),e.e(8727),e.e(2415)]).then(e.bind(e,48441))),path:"/settings/api-tokens/create"},{component:t.lazy(()=>Promise.all([e.e(1123),e.e(4744),e.e(8727),e.e(6723)]).then(e.bind(e,83321))),path:"/settings/api-tokens/:id"},{component:t.lazy(()=>Promise.all([e.e(1123),e.e(4744),e.e(6364),e.e(9962)]).then(e.bind(e,51040))),path:"/settings/transfer-tokens/create"},{component:t.lazy(()=>e.e(314).then(e.bind(e,12837))),path:"/settings/transfer-tokens"},{component:t.lazy(()=>Promise.all([e.e(1123),e.e(4744),e.e(6364),e.e(3170)]).then(e.bind(e,50788))),path:"/settings/transfer-tokens/:id"}];var Z=e(71808),H=e(10457),Q=e(7562),F=e(90954),nt=e(40121),z=e(98016),I=e(97939),k=e(96630),Y=e(16473),J=e(15006),q=e(26437),tt=e(68086),et=e(75942),ot=e(69733),at=e(71526),B=e(91616);const w=750,_=100,ft=["image/jpeg","image/png","image/svg+xml"];var Ot=e(57183),It=e(57435),vt=e(63292),Pt=e(35569),Dt=e(68433),Bt=e(67954),zt=e(75056),Ut=e(91267),st=e(41261);const yt={localImage:void 0},Ft=(a=yt,o)=>(0,st.Ay)(a,i=>{switch(o.type){case"SET_LOCAL_IMAGE":{i.localImage=o.value;break}default:return i}}),lt=({onChangeLogo:a,customLogo:o,goTo:i,Component:s,modalTitle:f,next:S,prev:A,currentStep:v})=>{const[{localImage:m},h]=(0,t.useReducer)(Ft,yt),{formatMessage:N}=(0,u.A)(),T=K=>{h({type:"SET_LOCAL_IMAGE",value:K})},$=()=>{i(null)};return v?t.createElement(zt.k,{labelledBy:"modal",onClose:$},t.createElement(Ut.r,null,t.createElement(I.o,{fontWeight:"bold",as:"h2",id:"modal"},N(f))),t.createElement(s,{setLocalImage:T,goTo:i,next:S,prev:A,onClose:$,asset:m||o,onChangeLogo:a})):null};lt.defaultProps={Component:void 0,currentStep:void 0,customLogo:void 0,modalTitle:void 0,next:null,prev:null},lt.propTypes={Component:n().elementType,currentStep:n().string,customLogo:n().shape({name:n().string,url:n().string,width:n().number,height:n().number,ext:n().string}),goTo:n().func.isRequired,modalTitle:n().shape({id:n().string,defaultMessage:n().string}),next:n().string,onChangeLogo:n().func.isRequired,prev:n().string};const $t=lt,xt={currentStep:void 0},Kt=(a=xt,o)=>(0,st.Ay)(a,i=>{switch(o.type){case"GO_TO":{i.currentStep=o.to;break}default:return i}});var Wt=e(8740),it=e(99750),Nt=e(11744),rt=e(90480),Gt=e(1134),bt=e(88860),Ht=e(41240),Vt=e(84868),dt=e(25625),Xt=e(85687),Zt=e(40948);const Qt={id:"Settings.application.customization.modal.upload.error-format",defaultMessage:"Wrong format uploaded (accepted formats only: jpeg, jpg, png, svg)."},Lt={id:"Settings.application.customization.modal.upload.error-size",defaultMessage:"The file uploaded is too large (max dimension: {dimension}x{dimension}, max file size: {size}KB)"},Yt=a=>new Promise(o=>{const i=new FileReader;i.onload=()=>{const s=new Image;s.onload=function(){o({width:s.width,height:s.height})},s.src=i.result},i.readAsDataURL(a)}),Jt=(a,o)=>({ext:a.name.split(".").pop(),size:a.size/1e3,name:a.name,url:URL.createObjectURL(a),rawFile:a,width:o.width,height:o.height}),Mt=async a=>{let o;if(!ft.includes(a.type))throw o=new Error("File format"),o.displayMessage=Qt,o;const s=await Yt(a);if(!(s.width<=w&&s.height<=w))throw o=new Error("File sizing"),o.displayMessage=Lt,o;const S=Jt(a,s);if(!(S.size<=_))throw o=new Error("File sizing"),o.displayMessage=Lt,o;return S},wt=(0,Zt.Ay)(Gt.T)`
  opacity: 0;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,ct=({setLocalImage:a,goTo:o,next:i,onClose:s})=>{const{formatMessage:f}=(0,u.A)(),[S,A]=(0,t.useState)(!1),[v,m]=(0,t.useState)(void 0),h=(0,t.useRef)(null),N=()=>A(!0),T=()=>A(!1),$=V=>{V.preventDefault(),h.current.click()},K=async()=>{T();const V=h.current.files[0];if(V)try{const X=await Mt(V);a(X),o(i)}catch(X){if(X.displayMessage)m(f(X.displayMessage,{size:_,dimension:w})),h.current.focus();else throw X}},G=()=>S?"primary500":v?"danger600":"neutral300";return t.createElement(t.Fragment,null,t.createElement("form",null,t.createElement(B.a,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},t.createElement(bt.D,{name:"logo-upload",error:v},t.createElement("label",{htmlFor:"logo-upload"},t.createElement(z.s,{direction:"column",alignItems:"stretch",gap:2},t.createElement(z.s,{paddingTop:9,paddingBottom:7,hasRadius:!0,justifyContent:"center",direction:"column",background:S?"primary100":"neutral100",borderColor:G(),borderStyle:"dashed",borderWidth:"1px",position:"relative",onDragEnter:N,onDragLeave:T},t.createElement(Ht.I,{color:"primary600",width:`${60/16}rem`,height:`${60/16}rem`,as:Xt.A,"aria-hidden":!0}),t.createElement(B.a,{paddingTop:3,paddingBottom:5},t.createElement(I.o,{variant:"delta",as:"span"},f({id:"Settings.application.customization.modal.upload.drag-drop",defaultMessage:"Drag and Drop here or"}))),t.createElement(wt,{accept:ft,cursor:"pointer",as:"input",type:"file",name:"files",tabIndex:-1,zIndex:1,onChange:K,ref:h,id:"logo-upload"}),t.createElement(F.$,{type:"button",onClick:$},f({id:"Settings.application.customization.modal.upload.cta.browse",defaultMessage:"Browse files"})),t.createElement(B.a,{paddingTop:6},t.createElement(I.o,{variant:"pi",textColor:"neutral600"},f({id:"Settings.application.customization.modal.upload.file-validation",defaultMessage:"Max dimension: {dimension}x{dimension}, Max size: {size}KB"},{size:_,dimension:w})))),t.createElement(Vt.b,null)))))),t.createElement(dt.j,{startActions:t.createElement(F.$,{onClick:s,variant:"tertiary"},f({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"}))}))};ct.defaultProps={next:null},ct.propTypes={goTo:n().func.isRequired,next:n().string,onClose:n().func.isRequired,setLocalImage:n().func.isRequired};const kt=ct;var qt=e(30524);const _t=async a=>{try{const{get:o}=(0,r.GD)(),i=await o(a,{responseType:"blob",timeout:8e3});return new File([i.data],i.config.url,{type:i.headers["content-type"]})}catch(o){throw o.displayMessage={id:"Settings.application.customization.modal.upload.error-network",defaultMessage:"Network error"},o}},gt=({goTo:a,next:o,onClose:i,setLocalImage:s})=>{const{formatMessage:f}=(0,u.A)(),[S,A]=(0,t.useState)(""),[v,m]=(0,t.useState)(null),h=T=>{A(T.target.value)},N=async()=>{try{const T=await _t(S),$=await Mt(T);s($),a(o)}catch(T){if(T.displayMessage)m(f(T.displayMessage,{size:_,dimension:w}));else throw T}};return t.createElement("form",{onSubmit:T=>{T.preventDefault(),N()}},t.createElement(B.a,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},t.createElement(qt.k,{label:f({id:"Settings.application.customization.modal.upload.from-url.input-label",defaultMessage:"URL"}),error:v,onChange:h,value:S,name:"logo-url"})),t.createElement(dt.j,{startActions:t.createElement(F.$,{onClick:i,variant:"tertiary"},f({id:"app.components.Button.cancel",defaultMessage:"Cancel"})),endActions:t.createElement(F.$,{type:"submit"},f({id:"Settings.application.customization.modal.upload.next",defaultMessage:"Next"}))}))};gt.defaultProps={next:null},gt.propTypes={goTo:n().func.isRequired,next:n().string,onClose:n().func.isRequired,setLocalImage:n().func.isRequired};const te=gt,mt=({setLocalImage:a,goTo:o,next:i,onClose:s})=>{const{formatMessage:f}=(0,u.A)();return t.createElement(Wt.f,{label:f({id:"Settings.application.customization.modal.tab.label",defaultMessage:"How do you want to upload your assets?"}),variant:"simple"},t.createElement(B.a,{paddingLeft:8,paddingRight:8},t.createElement(it.t,null,t.createElement(it.o,null,f({id:"Settings.application.customization.modal.upload.from-computer",defaultMessage:"From computer"})),t.createElement(it.o,null,f({id:"Settings.application.customization.modal.upload.from-url",defaultMessage:"From url"}))),t.createElement(Nt.c,null)),t.createElement(rt.T,null,t.createElement(rt.K,null,t.createElement(kt,{onClose:s,setLocalImage:a,goTo:o,next:i})),t.createElement(rt.K,null,t.createElement(te,{onClose:s,setLocalImage:a,goTo:o,next:i}))))};mt.defaultProps={next:null},mt.propTypes={goTo:n().func.isRequired,next:n().string,onClose:n().func.isRequired,setLocalImage:n().func.isRequired};const ee=mt;var ne=e(26538),oe=e(33187),ae=e(27172),se=e(22650),le=e(56041),Ct=e(33558),ie=e(75419);const St=({asset:a})=>{const{formatMessage:o}=(0,u.A)();return t.createElement(ne.Z,null,t.createElement(oe.a,null,t.createElement(ae.P,{size:"S",src:a.url})),t.createElement(se.b,null,t.createElement(le.W,null,t.createElement(Ct.Z,null,a.name),t.createElement(Ct.j,null,`${a.ext.toUpperCase()} - ${a.width}\u2715${a.height}`)),t.createElement(ie.S,null,o({id:"Settings.application.customization.modal.pending.card-badge",defaultMessage:"image"}))))};St.propTypes={asset:n().shape({name:n().string,url:n().string,width:n().number,height:n().number,ext:n().string}).isRequired};const re=St,ut=({onClose:a,asset:o,prev:i,next:s,goTo:f,setLocalImage:S,onChangeLogo:A})=>{const{formatMessage:v}=(0,u.A)(),m=()=>{S(void 0),f(i)},h=()=>{A(o),f(s)};return t.createElement(t.Fragment,null,t.createElement(B.a,{paddingLeft:8,paddingRight:8,paddingTop:6,paddingBottom:6},t.createElement(z.s,{justifyContent:"space-between",paddingBottom:6},t.createElement(z.s,{direction:"column",alignItems:"flex-start"},t.createElement(I.o,{variant:"pi",fontWeight:"bold"},v({id:"Settings.application.customization.modal.pending.title",defaultMessage:"Logo ready to upload"})),t.createElement(I.o,{variant:"pi",textColor:"neutral500"},v({id:"Settings.application.customization.modal.pending.subtitle",defaultMessage:"Manage the chosen logo before uploading it"}))),t.createElement(F.$,{onClick:m,variant:"secondary"},v({id:"Settings.application.customization.modal.pending.choose-another",defaultMessage:"Choose another logo"}))),t.createElement(B.a,{maxWidth:(0,r.a8)(180)},o.url?t.createElement(re,{asset:o}):null)),t.createElement(dt.j,{startActions:t.createElement(F.$,{onClick:a,variant:"tertiary"},v({id:"Settings.application.customization.modal.cancel",defaultMessage:"Cancel"})),endActions:t.createElement(F.$,{onClick:h},v({id:"Settings.application.customization.modal.pending.upload",defaultMessage:"Upload logo"}))}))};ut.defaultProps={next:null,prev:null},ut.propTypes={goTo:n().func.isRequired,asset:n().shape({name:n().string,url:n().string,width:n().number,height:n().number,ext:n().string}).isRequired,next:n().string,onClose:n().func.isRequired,onChangeLogo:n().func.isRequired,prev:n().string,setLocalImage:n().func.isRequired};const de={upload:{Component:ee,modalTitle:{id:"Settings.application.customization.modal.upload",defaultMessage:"Upload logo"},next:"pending",prev:null},pending:{Component:ut,modalTitle:{id:"Settings.application.customization.modal.pending",defaultMessage:"Pending logo"},next:null,prev:"upload"}},pt=({canUpdate:a,customLogo:o,defaultLogo:i,hint:s,label:f,onChangeLogo:S,onResetLogo:A})=>{const[{currentStep:v},m]=(0,t.useReducer)(Kt,xt),{Component:h,next:N,prev:T,modalTitle:$}=de[v]||{},{formatMessage:K}=(0,u.A)(),G=V=>{m({type:"GO_TO",to:V})};return t.createElement(t.Fragment,null,t.createElement(Ot.Z,{label:f,selectedSlide:0,hint:s,previousLabel:"",nextLabel:"",onNext:()=>{},onPrevious:()=>{},secondaryLabel:o?.name||"logo.png",actions:t.createElement(It.O,null,t.createElement(vt.K,{disabled:!a,onClick:()=>G(o?"pending":"upload"),label:K({id:"Settings.application.customization.carousel.change-action",defaultMessage:"Change logo"}),icon:t.createElement(Dt.A,null)}),o&&t.createElement(vt.K,{disabled:!a,onClick:A,label:K({id:"Settings.application.customization.carousel.reset-action",defaultMessage:"Reset logo"}),icon:t.createElement(Bt.A,null)}))},t.createElement(Pt.o,{label:K({id:"Settings.application.customization.carousel-slide.label",defaultMessage:"Logo slide"})},t.createElement(B.a,{maxHeight:"40%",maxWidth:"40%",as:"img",src:o?.url||i,alt:K({id:"Settings.application.customization.carousel.title",defaultMessage:"Logo"})}))),t.createElement($t,{Component:h,currentStep:v,onChangeLogo:S,customLogo:o,goTo:G,next:N,prev:T,modalTitle:$}))};pt.defaultProps={canUpdate:!1,customLogo:null,hint:null},pt.propTypes={canUpdate:n().bool,customLogo:n().shape({url:n().string,name:n().string}),label:n().string.isRequired,hint:n().string,defaultLogo:n().string.isRequired,onChangeLogo:n().func.isRequired,onResetLogo:n().func.isRequired};const Rt=pt;var ce=e(55364),ge=e.n(ce);const me=(a,o)=>ge()(a,{menuLogo:{display:o.menuLogo},authLogo:{display:o.authLogo}}),ht={menuLogo:{display:null,submit:{rawFile:null,isReset:!1}},authLogo:{display:null,submit:{rawFile:null,isReset:!1}}},ue=(a=ht,o)=>(0,st.Ay)(a,i=>{switch(o.type){case"SET_CUSTOM_MENU_LOGO":{i.menuLogo.display=o.value,i.menuLogo.submit.rawFile=o.value.rawFile;break}case"SET_CUSTOM_AUTH_LOGO":{i.authLogo.display=o.value,i.authLogo.submit.rawFile=o.value.rawFile;break}case"RESET_CUSTOM_MENU_LOGO":{i.menuLogo.display=null,i.menuLogo.submit={rawFile:null,isReset:!0};break}case"RESET_CUSTOM_AUTH_LOGO":{i.authLogo.display=null,i.authLogo.submit={rawFile:null,isReset:!0};break}default:return i}}),Et=(0,t.forwardRef)(({canUpdate:a,projectSettingsStored:o},i)=>{const{formatMessage:s}=(0,u.A)(),{trackUsage:f}=(0,r.z1)(),{logos:{menu:S,auth:A}}=(0,c.Bp)(),[{menuLogo:v,authLogo:m},h]=(0,t.useReducer)(ue,ht,()=>me(ht,o)),N=G=>{h({type:"SET_CUSTOM_MENU_LOGO",value:G})},T=()=>{f("didClickResetLogo",{logo:"menu"}),h({type:"RESET_CUSTOM_MENU_LOGO"})},$=G=>{h({type:"SET_CUSTOM_AUTH_LOGO",value:G})},K=()=>{f("didClickResetLogo",{logo:"auth"}),h({type:"RESET_CUSTOM_AUTH_LOGO"})};return(0,t.useImperativeHandle)(i,()=>({getValues:()=>({menuLogo:v.submit,authLogo:m.submit})})),t.createElement(B.a,{hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},t.createElement(I.o,{variant:"delta",as:"h3"},s({id:"Settings.application.customization",defaultMessage:"Customization"})),t.createElement(I.o,{variant:"pi",textColor:"neutral600"},s({id:"Settings.application.customization.size-details",defaultMessage:"Max dimension: {dimension}\xD7{dimension}, Max file size: {size}KB"},{dimension:w,size:_})),t.createElement(k.x,{paddingTop:4,gap:4},t.createElement(Y.E,{col:6,s:12},t.createElement(Rt,{canUpdate:a,customLogo:v.display,defaultLogo:S.default,hint:s({id:"Settings.application.customization.menu-logo.carousel-hint",defaultMessage:"Replace the logo in the main navigation"}),label:s({id:"Settings.application.customization.carousel.menu-logo.title",defaultMessage:"Menu logo"}),onChangeLogo:N,onResetLogo:T})),t.createElement(Y.E,{col:6,s:12},t.createElement(Rt,{canUpdate:a,customLogo:m.display,defaultLogo:A.default,hint:s({id:"Settings.application.customization.auth-logo.carousel-hint",defaultMessage:"Replace the logo in the authentication pages"}),label:s({id:"Settings.application.customization.carousel.auth-logo.title",defaultMessage:"Auth logo"}),onChangeLogo:$,onResetLogo:K}))))});Et.defaultProps={canUpdate:!1,projectSettingsStored:null},Et.propTypes={canUpdate:n().bool,projectSettingsStored:n().shape({menuLogo:n().shape({url:n().string,name:n().string})})};const pe=Et,he=a=>{const o=new FormData;return Object.entries(a).forEach(([i,s])=>{s&&s.rawFile instanceof File&&o.append(i,s.rawFile),s&&s.isReset&&o.append(i,null)}),o},Ee=()=>null,fe=()=>{const a=t.useRef(),o=(0,r.hN)(),{trackUsage:i}=(0,r.z1)(),{formatMessage:s}=(0,u.A)(),{get:f,post:S}=(0,r.ry)(),{updateProjectSettings:A}=(0,c.Bp)(),v=(0,ot.d4)(at.G),{formatAPIError:m}=(0,r.wq)(),{communityEdition:h,latestStrapiReleaseTag:N,nodeVersion:T,shouldUpdateStrapi:$,strapiVersion:K}=(0,r.Xe)(),G=(0,C.h)(Ee,async()=>(await e.e(9849).then(e.bind(e,59849))).AdminSeatInfoEE),{allowedActions:{canRead:V,canUpdate:X}}=(0,r.ec)(v.settings["project-settings"]);(0,r.L4)();const{data:At,isLoading:ye}=(0,et.useQuery)(["project-settings"],async()=>{const{data:O}=await f("/admin/project-settings");return O},{cacheTime:0,enabled:V,select(O){return{...O,authLogo:O.authLogo?{...O.authLogo,url:(0,r.vX)(O.authLogo.url)}:O.authLogo,menuLogo:O.menuLogo?{...O.menuLogo,url:(0,r.vX)(O.menuLogo.url)}:O.menuLogo}}}),xe=(0,et.useMutation)(O=>S("/admin/project-settings",O,{headers:{"Content-Type":"multipart/form-data"}}),{onError(O){o({type:"warning",message:m(O)})},async onSuccess(O){const{menuLogo:Tt,authLogo:jt}=O;A({menuLogo:Tt?.url,authLogo:jt?.url}),Tt?.rawFile&&i("didChangeLogo",{logo:"menu"}),jt?.rawFile&&i("didChangeLogo",{logo:"auth"}),o({type:"success",message:s({id:"app",defaultMessage:"Saved"})})}}),Le=O=>{O.preventDefault(),xe.mutate(he(a.current.getValues()))};return G?t.createElement(d.P,null,t.createElement(r.x7,{name:"Application"}),t.createElement(Z.g,null,ye?t.createElement(H.a,null,s({id:"Settings.application.isLoading",defaultMessage:"Loading"})):t.createElement("form",{onSubmit:Le},t.createElement(Q.Q,{title:s({id:"Settings.application.title",defaultMessage:"Overview"}),subtitle:s({id:"Settings.application.description",defaultMessage:"Administration panel\u2019s global information"}),primaryAction:X&&t.createElement(F.$,{type:"submit",startIcon:t.createElement(q.A,null)},s({id:"global.save",defaultMessage:"Save"}))}),t.createElement(nt.s,null,t.createElement(z.s,{direction:"column",alignItems:"stretch",gap:6},t.createElement(z.s,{direction:"column",alignItems:"stretch",gap:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingRight:7,paddingLeft:7},t.createElement(I.o,{variant:"delta",as:"h3"},s({id:"global.details",defaultMessage:"Details"})),t.createElement(k.x,{gap:5,as:"dl"},t.createElement(Y.E,{col:6,s:12},t.createElement(I.o,{variant:"sigma",textColor:"neutral600",as:"dt"},s({id:"Settings.application.strapiVersion",defaultMessage:"strapi version"})),t.createElement(z.s,{gap:3,direction:"column",alignItems:"start",as:"dd"},t.createElement(I.o,null,"v",K),$&&t.createElement(J.N,{href:`https://github.com/strapi/strapi/releases/tag/${N}`,isExternal:!0,endIcon:t.createElement(tt.A,null)},s({id:"Settings.application.link-upgrade",defaultMessage:"Upgrade your admin panel"})))),t.createElement(Y.E,{col:6,s:12},t.createElement(I.o,{variant:"sigma",textColor:"neutral600",as:"dt"},s({id:"Settings.application.edition-title",defaultMessage:"current plan"})),t.createElement(z.s,{gap:3,direction:"column",alignItems:"start",as:"dd"},t.createElement(I.o,null,s({id:"Settings.application.ee-or-ce",defaultMessage:"{communityEdition, select, true {Community Edition} other {Enterprise Edition}}"},{communityEdition:h})),t.createElement(J.N,{href:"https://strapi.io/pricing-self-hosted",isExternal:!0,endIcon:t.createElement(tt.A,null)},s({id:"Settings.application.link-pricing",defaultMessage:"See all pricing plans"})))),t.createElement(Y.E,{col:6,s:12},t.createElement(I.o,{variant:"sigma",textColor:"neutral600",as:"dt"},s({id:"Settings.application.node-version",defaultMessage:"node version"})),t.createElement(I.o,{as:"dd"},T)),t.createElement(G,null))),V&&At&&t.createElement(pe,{canUpdate:X,ref:a,projectSettingsStored:At})))))):null};function ve(){const{settingId:a}=(0,y.g)(),{settings:o}=(0,r.vD)(),{formatMessage:i}=(0,u.A)(),{isLoading:s,menu:f}=(0,c.ki)(),S=(0,C.h)(b,async()=>(await e.e(280).then(e.bind(e,40280))).SETTINGS_ROUTES_EE,{combine(v,m){return[...v,...m]},defaultValue:[]}),A=Object.values(o).flatMap(v=>v.links.map(m=>(0,j.u)(m.Component,m.to,m.exact||!1)));return s?t.createElement(r.Bl,null):a?t.createElement(d.P,{sideNav:t.createElement(D,{menu:f})},t.createElement(L.m,{title:i({id:"global.settings",defaultMessage:"Settings"})}),t.createElement(y.dO,null,t.createElement(y.qh,{path:"/settings/application-infos",component:fe,exact:!0}),S.map(({path:v,component:m})=>t.createElement(y.qh,{key:v,path:v,component:m,exact:!0})),A)):t.createElement(y.rd,{to:"/settings/application-infos"})}},40121:(W,M,e)=>{e.d(M,{s:()=>r});var t=e(74848),d=e(91616);const r=({children:L})=>(0,t.jsx)(d.a,{paddingLeft:10,paddingRight:10,children:L})},7562:(W,M,e)=>{e.d(M,{Q:()=>P});var t=e(74848),d=e(96540),r=e(40948);const L=l=>{const E=(0,d.useRef)(null),[g,n]=(0,d.useState)(!0),p=([x])=>{n(x.isIntersecting)};return(0,d.useEffect)(()=>{const x=E.current,D=new IntersectionObserver(p,l);return x&&D.observe(E.current),()=>{x&&D.disconnect()}},[E,l]),[E,g]};var u=e(10263);const y=(l,E)=>{const g=(0,u.c)(E);(0,d.useLayoutEffect)(()=>{const n=new ResizeObserver(g);return Array.isArray(l)?l.forEach(p=>{p.current&&n.observe(p.current)}):l.current&&n.observe(l.current),()=>{n.disconnect()}},[l,g])};var c=e(91616),C=e(98016),j=e(97939);const P=l=>{const E=(0,d.useRef)(null),[g,n]=(0,d.useState)(null),[p,x]=L({root:null,rootMargin:"0px",threshold:0});return y(p,()=>{p.current&&n(p.current.getBoundingClientRect())}),(0,d.useEffect)(()=>{E.current&&n(E.current.getBoundingClientRect())},[E]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{height:g?.height},ref:p,children:x&&(0,t.jsx)(R,{ref:E,...l})}),!x&&(0,t.jsx)(R,{...l,sticky:!0,width:g?.width})]})};P.displayName="HeaderLayout";const U=(0,r.Ay)(c.a)`
  width: ${({width:l})=>l?`${l/16}rem`:void 0};
  z-index: ${({theme:l})=>l.zIndices[1]};
`,R=d.forwardRef(({navigationAction:l,primaryAction:E,secondaryAction:g,subtitle:n,title:p,sticky:x,width:D,...b},Z)=>{const H=typeof n=="string";return x?(0,t.jsx)(U,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:D,"data-strapi-header-sticky":!0,children:(0,t.jsxs)(C.s,{justifyContent:"space-between",children:[(0,t.jsxs)(C.s,{children:[l&&(0,t.jsx)(c.a,{paddingRight:3,children:l}),(0,t.jsxs)(c.a,{children:[(0,t.jsx)(j.o,{variant:"beta",as:"h1",...b,children:p}),H?(0,t.jsx)(j.o,{variant:"pi",textColor:"neutral600",children:n}):n]}),g?(0,t.jsx)(c.a,{paddingLeft:4,children:g}):null]}),(0,t.jsx)(C.s,{children:E?(0,t.jsx)(c.a,{paddingLeft:2,children:E}):void 0})]})}):(0,t.jsxs)(c.a,{ref:Z,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:l?6:8,background:"neutral100","data-strapi-header":!0,children:[l?(0,t.jsx)(c.a,{paddingBottom:2,children:l}):null,(0,t.jsxs)(C.s,{justifyContent:"space-between",children:[(0,t.jsxs)(C.s,{minWidth:0,children:[(0,t.jsx)(j.o,{as:"h1",variant:"alpha",...b,children:p}),g?(0,t.jsx)(c.a,{paddingLeft:4,children:g}):null]}),E]}),H?(0,t.jsx)(j.o,{variant:"epsilon",textColor:"neutral600",as:"p",children:n}):n]})})},63214:(W,M,e)=>{e.d(M,{P:()=>y});var t=e(74848),d=e(40948),r=e(91616);const L=(0,d.Ay)(r.a)`
  display: grid;
  grid-template-columns: ${({hasSideNav:c})=>c?"auto 1fr":"1fr"};
`,u=(0,d.Ay)(r.a)`
  overflow-x: hidden;
`,y=({sideNav:c,children:C})=>(0,t.jsxs)(L,{hasSideNav:!!c,children:[c,(0,t.jsx)(u,{paddingBottom:10,children:C})]})},15006:(W,M,e)=>{e.d(M,{N:()=>U});var t=e(74848),d=e(96540),r=e(68086),L=e(54625),u=e(40948),y=e(62099),c=e(97939),C=e(91616);const j=u.Ay.a`
  display: inline-flex;
  align-items: center;
  text-decoration: none;
  pointer-events: ${({disabled:R})=>R?"none":void 0};
  color: ${({disabled:R,theme:l})=>R?l.colors.neutral600:l.colors.primary600};

  svg path {
    transition: fill 150ms ease-out;
    fill: currentColor;
  }

  svg {
    font-size: ${10/16}rem;
  }

  ${c.o} {
    transition: color 150ms ease-out;
    color: currentColor;
  }

  &:hover {
    color: ${({theme:R})=>R.colors.primary500};
  }

  &:active {
    color: ${({theme:R})=>R.colors.primary700};
  }

  ${y.AP};
`,P=(0,u.Ay)(C.a)`
  display: flex;
`,U=d.forwardRef(({children:R,href:l,to:E,disabled:g=!1,startIcon:n,endIcon:p,...x},D)=>(0,t.jsxs)(j,{as:E&&!g?L.k2:"a",target:l?"_blank":void 0,rel:l?"noreferrer noopener":void 0,to:g?void 0:E,href:g?"#":l,disabled:g,ref:D,...x,children:[n&&(0,t.jsx)(P,{as:"span","aria-hidden":!0,paddingRight:2,children:n}),(0,t.jsx)(c.o,{children:R}),p&&!l&&(0,t.jsx)(P,{as:"span","aria-hidden":!0,paddingLeft:2,children:p}),l&&(0,t.jsx)(P,{as:"span","aria-hidden":!0,paddingLeft:2,children:(0,t.jsx)(r.A,{})})]}))},71808:(W,M,e)=>{e.d(M,{g:()=>u});var t=e(74848),d=e(40948),r=e(91616);const L=(0,d.Ay)(r.a)`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,u=({labelledBy:y="main-content-title",...c})=>(0,t.jsx)(L,{"aria-labelledby":y,as:"main",id:"main-content",tabIndex:-1,...c})},41175:(W,M,e)=>{e.d(M,{C:()=>y});var t=e(74848),d=e(40948),r=e(96630);const L=`${232/16}rem`,u=(0,d.Ay)(r.x)`
  width: ${L};
  background: ${({theme:c})=>c.colors.neutral100};
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
  border-right: 1px solid ${({theme:c})=>c.colors.neutral200};
  z-index: 1;
`,y=({ariaLabel:c,...C})=>(0,t.jsx)(u,{"aria-label":c,as:"nav",...C})},77507:(W,M,e)=>{e.d(M,{X:()=>n});var t=e(74848),d=e(96540),r=e(99525),L=e(40948),u=e(73208),y=e(28618);const c=p=>{const x=(0,d.useRef)();return(0,d.useEffect)(()=>{x.current=p}),x.current};var C=e(11744),j=e(91616),P=e(36631),U=e(78820),R=e(98016),l=e(97939),E=e(63292);const g=(0,L.Ay)(C.c)`
  width: ${24/16}rem;
  background-color: ${({theme:p})=>p.colors.neutral200};
`,n=({as:p="h2",label:x,searchLabel:D="",searchable:b=!1,onChange:Z=()=>{},value:H="",onClear:Q=()=>{},onSubmit:F=()=>{},id:nt})=>{const[z,I]=(0,d.useState)(!1),k=c(z),Y=(0,y.B)(nt),J=(0,d.useRef)(void 0),q=(0,d.useRef)(void 0);(0,d.useEffect)(()=>{z&&J.current&&J.current.focus(),k&&!z&&q.current&&q.current.focus()},[z,k]);const tt=()=>{I(B=>!B)},et=B=>{Q(B),J.current.focus()},ot=B=>{B.relatedTarget?.id!==Y&&I(!1)},at=B=>{B.key===u.K.ESCAPE&&I(!1)};return z?(0,t.jsxs)(j.a,{paddingLeft:4,paddingTop:5,paddingBottom:2,paddingRight:4,children:[(0,t.jsx)(P.B,{children:(0,t.jsx)(U.S,{name:"searchbar",value:H,onChange:Z,placeholder:"e.g: strapi-plugin-abcd",onKeyDown:at,ref:J,onBlur:ot,onClear:et,onSubmit:F,clearLabel:"Clear",size:"S",children:D})}),(0,t.jsx)(j.a,{paddingLeft:2,paddingTop:4,children:(0,t.jsx)(g,{})})]}):(0,t.jsxs)(j.a,{paddingLeft:6,paddingTop:6,paddingBottom:2,paddingRight:4,children:[(0,t.jsxs)(R.s,{justifyContent:"space-between",alignItems:"flex-start",children:[(0,t.jsx)(l.o,{variant:"beta",as:p,children:x}),b&&(0,t.jsx)(E.K,{ref:q,onClick:tt,label:D,icon:(0,t.jsx)(r.A,{})})]}),(0,t.jsx)(j.a,{paddingTop:4,children:(0,t.jsx)(g,{})})]})}},10855:(W,M,e)=>{e.d(M,{u:()=>R});var t=e(74848),d=e(96540),r=e(23922),L=e(40948),u=e(91616),y=e(97939),c=e(98016),C=e(64748);const j=(0,L.Ay)(u.a)`
  display: flex;
  align-items: center;
  justify-content: space-between;
  text-decoration: none;
  color: ${({theme:l})=>l.colors.neutral800};
  svg > * {
    fill: ${({theme:l})=>l.colors.neutral600};
  }

  &.active {
    ${({theme:l})=>`
      background-color: ${l.colors.primary100};
      border-right: 2px solid ${l.colors.primary600};
      svg > * {
        fill: ${l.colors.primary700};
      }
      ${y.o} {
        color: ${l.colors.primary700};
        font-weight: 500;
      }
      `}
  }

  &:focus-visible {
    outline-offset: -2px;
  }
`,P=(0,L.Ay)(r.A)`
  width: ${12/16}rem;
  height: ${4/16}rem;
  * {
    fill: ${({theme:l,$active:E})=>E?l.colors.primary600:l.colors.neutral600};
  }
`,U=L.Ay.div`
  svg {
    height: ${12/16}rem;
    width: ${12/16}rem;
  }
`,R=d.forwardRef(({children:l,icon:E=null,withBullet:g=!1,as:n=C.s,isSubSectionChild:p=!1,...x},D)=>(0,t.jsxs)(j,{as:n,icon:E,background:"neutral100",paddingLeft:p?9:7,paddingBottom:2,paddingTop:2,ref:D,...x,children:[(0,t.jsxs)(c.s,{children:[E?(0,t.jsx)(U,{children:E}):(0,t.jsx)(P,{}),(0,t.jsx)(u.a,{paddingLeft:2,children:(0,t.jsx)(y.o,{as:"span",children:l})})]}),g&&(0,t.jsx)(u.a,{as:c.s,paddingRight:4,children:(0,t.jsx)(P,{$active:!0})})]}))},30950:(W,M,e)=>{e.d(M,{L:()=>E});var t=e(74848),d=e(96540),r=e(40948),L=e(77044),u=e(98016),y=e(91616),c=e(97939);const C=(0,r.Ay)(u.s)`
  border: none;
  padding: 0;
  background: transparent;
`,j=r.Ay.div`
  display: flex;
  align-items: center;
  transform: rotateX(${({rotated:g})=>g?"0deg":"180deg"});
`,P=({collapsable:g=!1,label:n,onClick:p=()=>{},ariaExpanded:x,ariaControls:D})=>g?(0,t.jsxs)(C,{as:"button",onClick:p,"aria-expanded":x,"aria-controls":D,textAlign:"left",children:[(0,t.jsx)(y.a,{paddingRight:1,children:(0,t.jsx)(c.o,{variant:"sigma",textColor:"neutral600",children:n})}),g&&(0,t.jsx)(j,{rotated:x,children:(0,t.jsx)(L.A,{"aria-hidden":!0})})]}):(0,t.jsx)(C,{children:(0,t.jsx)(y.a,{paddingRight:1,children:(0,t.jsx)(c.o,{variant:"sigma",textColor:"neutral600",children:n})})});var U=e(28618),R=e(1640);const l=(0,r.Ay)(y.a)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:g})=>g.colors.neutral500};
    }
  }
`,E=({collapsable:g=!1,label:n,badgeLabel:p,children:x,id:D})=>{const[b,Z]=(0,d.useState)(!0),H=(0,U.B)(D);return(0,t.jsxs)(u.s,{direction:"column",alignItems:"stretch",gap:1,children:[(0,t.jsx)(l,{paddingLeft:6,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,t.jsxs)(y.a,{position:"relative",paddingRight:p?6:0,children:[(0,t.jsx)(P,{onClick:()=>{Z(Q=>!Q)},ariaExpanded:b,ariaControls:H,collapsable:g,label:n}),p&&(0,t.jsx)(R.E,{backgroundColor:"neutral150",textColor:"neutral600",position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",children:p})]})}),(!g||b)&&(0,t.jsx)("ol",{id:H,children:d.Children.map(x,(Q,F)=>(0,t.jsx)("li",{children:Q},F))})]})}},96491:(W,M,e)=>{e.d(M,{w:()=>u});var t=e(74848),d=e(96540),r=e(91616),L=e(98016);const u=({children:y,spacing:c=2,horizontal:C=!1,...j})=>(0,t.jsx)(r.a,{paddingTop:2,paddingBottom:4,children:(0,t.jsx)(L.s,{as:"ol",gap:c,direction:C?"row":"column",alignItems:C?"center":"stretch",...j,children:d.Children.map(y,(P,U)=>(0,t.jsx)("li",{children:P},U))})})},23922:(W,M,e)=>{e.d(M,{A:()=>r});var t=e(74848);const d=L=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 4 4",...L,children:(0,t.jsx)("rect",{width:4,height:4,fill:"#A5A5BA",rx:2})}),r=d}}]);
